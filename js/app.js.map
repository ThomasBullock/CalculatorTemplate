{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["// Get all the keys from document\nconst keys = document.querySelectorAll('button');\n// console.log(keys);\n\n// Add onclick event to all the keys and perform operations\nkeys.forEach(function(item) {\n  item.addEventListener('click', function(e) {\n    const keyPressed = e.target.value;\n  controller.input(keyPressed);\n  });\n});\n\nconst controller = {\n  operators: /[-\\*+\\/]/g,  // not currently being used\n  keyValue: [],\n  answer: 0,\n  displayOutput: this.answer,\n  input: function (key) {\n    console.log(key);\n    if(key == \".\" && this.keyValue[this.keyValue.length-1] == \".\") {  // prevent successive decimal points\n      return;\n    }\n    if(this.answer === 'error') {  // clear answer and keyValue arr if Error is onscreen\n      this.answer = 0;\n      this.keyValue = [];\n    }\n    if (key === '0' && this.keyValue[0] === '0') {\n      return;\n    } else if (key === '=') {\n      this.calculate(this.keyValue.join(''));\n      this.displayOutput = this.answer;\n      view.display(this.displayOutput);\n      controller.keyValue = [];\n    } else if (key === 'c') {\n      view.clear();\n    } else {\n      this.keyValue.push(key);\n      this.displayOutput = this.keyValue.join('');\n      view.display(this.displayOutput);\n    }\n  },\n calculate: function(str) {\n   try {\n    this.answer = eval(str);\n   } catch (e) {\n    console.log(e);\n      this.answer = 'error';\n   }\n },\n};\n\nconst view = {\n  screen: document.getElementById('answer'), \n  display: function (str) {\n    if(str.length > 1 && str.charAt(0) === '0') { //to prevent 0 being added before other numbers if 0 is pressed first\n      this.screen.innerHTML = str.substring(1);      \n    } else {\n      this.screen.innerHTML = str;      \n    }\n  },\n\n  clear: function () {\n    this.screen.innerHTML = '0';\n    controller.answer = 0;\n    controller.keyValue = [];\n  },\n};\n\n//# sourceMappingURL=app.js.map\n"]}